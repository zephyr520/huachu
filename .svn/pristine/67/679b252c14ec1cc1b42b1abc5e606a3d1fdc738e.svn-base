package com.huachu.core.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.github.pagehelper.Page;
import com.huachu.common.constants.Constant;
import com.huachu.common.dto.AuthUserDTO;
import com.huachu.core.dao.TRecyclingListMapper;
import com.huachu.dto.request.query.QueryRecyclingListReqDTO;
import com.huachu.dto.response.RecyclingListRespDTO;

@Service
public class RecyclingListService {

	@Autowired
	TRecyclingListMapper recyclingListMapper;
	
	public Page<RecyclingListRespDTO> queryList(QueryRecyclingListReqDTO reqDto, AuthUserDTO authUser) {
		if (!authUser.getRoleNos().contains(Constant.ROLE_ADMIN)) {
			reqDto.setRecyclingUserId(authUser.getUserId());
		}
		return recyclingListMapper.queryList(reqDto);
	}
}
